<ion-navbar *navbar class="hide-border">
    <button menuToggle>
        <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Signup</ion-title>
</ion-navbar>

<ion-content>

    <ion-list padding>

        <form #signupForm="ngForm" novalidate>

            <ion-item>
                <ion-label stacked>Full name</ion-label>
                <ion-input [(ngModel)]="signup.fullname" ngControl="fullname" placeholder="Your full name" type="text" #fullname="ngForm" required>
                </ion-input>
            </ion-item>
            <p [hidden]="fullname.valid || submitted == false" danger padding-left>
                Your name is required
            </p>

            <ion-item>
                <ion-label stacked>Username</ion-label>
                <ion-input [(ngModel)]="signup.username" ngControl="username" placeholder="Your email address" type="email" #username="ngForm" required>
                </ion-input>
            </ion-item>
            <p [hidden]="username.valid || submitted == false" danger padding-left>
                Username is required
            </p>
            <p [hidden]="!serverErrors.invalidEmail || submitted == false" danger padding-left>
                Username must be an email
            </p>

            <ion-item>
                <ion-label stacked>Password</ion-label>
                <ion-input [(ngModel)]="signup.password" ngControl="password" type="password" placeholder="At least 5 characters" #password="ngForm" pattern=".{5,}" required>
                </ion-input>
            </ion-item>
            <p [hidden]="password.valid || submitted == false" danger padding-left>
                Password must be at least 5 characters
            </p>
            <ion-item>
                <ion-label stacked></ion-label>
                <ion-input [(ngModel)]="repeatPassword" type="password" placeholder="Re-enter password">
                </ion-input>
            </ion-item>
            <p [hidden]="repeatPassword == signup.password || submitted == false" danger padding-left>
                Passwords must match
            </p>


            <p [hidden]="!serverErrors.unreachable" danger padding-left>
                Unable to create account. Check your internet connection or try again later
            </p>
            <p [hidden]="!serverErrors.unknown" danger padding-left>
                An unknown error occurred. Try again later
            </p>
            <p [hidden]="!serverErrors.duplicate" danger padding-left>
                Would you like to <a (click)="onForgottenPassword()">reset your password?</a>
            </p>

            <div padding>
                <button (click)="onSignup(signupForm)" type="submit" primary block>Create</button>
            </div>
        </form>
    </ion-list>

</ion-content>

